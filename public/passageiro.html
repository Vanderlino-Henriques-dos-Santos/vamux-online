<!DOCTYPE html>
<html lang="pt-BR">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>VAMUX - Passageiro</title>
    <link rel="stylesheet" href="css/style.css" />
  </head>
  <body>
    <div class="container">
      <h2>Solicitar Corrida</h2>

      <div id="mensagemInterna" class="mensagem-interna" style="margin-bottom: 15px;"></div>

      <label for="origemInput">Origem:</label>
      <input
        type="text"
        id="origemInput" placeholder="Digite seu endereÃ§o de partida"
      />

      <label for="destinoInput">Destino:</label>
      <input
        type="text"
        id="destinoInput" placeholder="Digite o destino desejado"
      />

      <button id="btnCalcularEstimativa" style="margin-top: 15px;">Calcular Estimativa</button>
      
      <div id="estimateDisplay" style="margin-top: 10px; font-weight: bold; display: none;"></div>

      <button id="btnSolicitarCorrida" style="margin-top: 10px; display: none;">Solicitar Corrida</button>

      <div id="statusCorrida" class="info-panel" style="display: none; margin-top: 20px; padding: 15px; border: 1px solid #ddd; border-radius: 5px;"></div>
      
    </div>

    <div id="mapPassageiro" style="height: 400px; width: 100%; margin-top: 20px;"></div> <button id="btnLogout" class="logout-btn" style="margin-top: 20px;">Sair</button>

    <div class="banner-teste">
      ðŸš§ Aplicativo em fase de testes operacionais ðŸš§
    </div>

    <script type="module">
      import { MAPS_API_KEY } from "/src/javascript/google-maps-key.js"; // Caminho corrigido

      // IMPORTANTE: Definir initMapPassageiro no objeto window para ser acessÃ­vel como callback
      // Esta funÃ§Ã£o serÃ¡ definida no passageiro.js e exposta globalmente
      
      const script = document.createElement("script");
      script.src = `https://maps.googleapis.com/maps/api/js?key=${MAPS_API_KEY}&libraries=places&region=BR&language=pt-BR&callback=initMapPassageiro`; // Callback correto
      script.defer = true;
      script.async = true;
      document.head.appendChild(script);
    </script>

    <script type="module" src="/src/javascript/passageiro.js"></script> </body>
</html>